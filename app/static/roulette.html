<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Roulette</title>
<style>
body{margin:0;padding:20px;background:linear-gradient(135deg,#1e3c72,#2a5298);font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;color:#fff}
#container{text-align:center}
#roulette{border:8px solid #ffd700;border-radius:50%;box-shadow:0 0 30px rgba(255,215,0,.5);cursor:pointer}
#result{margin-top:20px;font-size:24px;font-weight:700}
#spinBtn{margin-top:20px;padding:15px 30px;font-size:18px;background:#ffd700;color:#000;border:none;border-radius:25px;cursor:pointer;font-weight:700}
#spinBtn:hover{background:#ffed4a;transform:scale(1.05)}
#backBtn{margin-top:15px;padding:12px 25px;font-size:16px;background:#00cc00;color:#fff;border:none;border-radius:20px;cursor:pointer;font-weight:700;display:none}
</style>
</head>
<body>
<div id="container">
<h1>üé∞ –†—É–ª–µ—Ç–∫–∞</h1>
<canvas id="roulette" width="400" height="400"></canvas><br>
<button id="spinBtn">üîÑ –ö–†–£–¢–ò–¢–¨</button>
<div id="result">–ö—Ä—É—Ç–∏—Ç–µ —Ä—É–ª–µ—Ç–∫—É!</div><br>
<button id="backBtn">üè† –í –ë–û–¢ –° –†–ï–ó–£–õ–¨–¢–ê–¢–û–ú</button>
</div>

<script>
const canvas=document.getElementById('roulette'),ctx=canvas.getContext('2d'),spinBtn=document.getElementById('spinBtn'),resultDiv=document.getElementById('result'),backBtn=document.getElementById('backBtn');
const BOT_USERNAME="Ludo77_bot";
const numbers=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26];
const redNumbers=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
let currentRotation=0,isSpinning=false,userChoice=null,winningNumber=null;

function setUserChoice(choice){userChoice=parseInt(choice);resultDiv.textContent=`üéØ –í–∞—à –≤—ã–±–æ—Ä: ${choice} | –ö–†–£–¢–ò–¢–¨!`}
function getWinningNumber(rotation){const normalized=(rotation%360+360)%360;return numbers[Math.floor((360-normalized)/(360/37))%37]}
function drawRoulette(){ctx.clearRect(0,0,400,400);ctx.save();ctx.translate(200,200);ctx.rotate(-currentRotation*Math.PI/180);for(let i=0;i<37;i++){const startAngle=i/37*2*Math.PI,endAngle=(i+1)/37*2*Math.PI,num=numbers[i],isRed=redNumbers.includes(num),isUserChoice=num===userChoice,isWinning=num===winningNumber;ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,170,startAngle,endAngle);ctx.closePath();ctx.fillStyle=isWinning?'#00ff00':isUserChoice?'#ffd700':isRed?'#cc0000':num===0?'#00cc00':'#000000';ctx.fill();ctx.strokeStyle='#ffffff';ctx.lineWidth=1.5;ctx.stroke();ctx.save();ctx.rotate(startAngle+(endAngle-startAngle)/2);ctx.fillStyle=isWinning||isUserChoice?'#000':'#ffffff';ctx.font=num<=9?'bold 20px Arial':'bold 16px Arial';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(num.toString(),75,0);ctx.restore()}ctx.restore();ctx.fillStyle='#ffd700';ctx.beginPath();ctx.arc(200,200,40,0,2*Math.PI);ctx.fill();ctx.fillStyle='#000';ctx.font='bold 18px Arial';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('üé∞',200,202)}

function spinWheel(){if(isSpinning)return;isSpinning=true;spinBtn.disabled=true;spinBtn.textContent='üîÑ –ö–†–£–¢–ò–¢–°–Ø...';let spinSpeed=25,deceleration=0.98;function animate(){currentRotation+=spinSpeed;spinSpeed*=deceleration;drawRoulette();if(spinSpeed>0.5){requestAnimationFrame(animate)}else{const finalRotation=currentRotation%360;winningNumber=getWinningNumber(finalRotation);resultDiv.innerHTML=`<strong>üéâ –†–ï–ó–£–õ–¨–¢–ê–¢: ${winningNumber}!</strong><br><strong style="color:${winningNumber===userChoice?'#00ff00':'#ff4444'}">${winningNumber===userChoice?'üéâ –í–´–ò–ì–†–´–®!':'üòî –ü—Ä–æ–∏–≥—Ä—ã—à'}</strong>`;backBtn.style.display='inline-block';backBtn.onclick=()=>{window.open(`https://t.me/${BOT_USERNAME}/roulette_result_${winningNumber} ${userChoice||0}`,'_blank')};spinBtn.disabled=false;spinBtn.textContent='üîÑ –ï–©–ï';isSpinning=false}}animate()}

spinBtn.addEventListener('click',spinWheel);drawRoulette();
const urlParams=new URLSearchParams(window.location.search);const choiceFromUrl=urlParams.get('choice');if(choiceFromUrl)setUserChoice(choiceFromUrl);
</script>
</body>
</html>
